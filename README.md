
[![Contributors][contributors-shield]][contributors-url]
[![Forks][forks-shield]][forks-url]
[![Stargazers][stars-shield]][stars-url]
[![Issues][issues-shield]][issues-url]
[![LinkedIn][linkedin-shield]][linkedin-url]



<!-- PROJECT LOGO -->
<br />
<p align="center">

  <h2 align="center">Activity-Analyzer-with-Wearable</h2>

  <p align="center">
    Create an ELT system to classify a person’s activities by analyzing the data collected by wearable devices.
    <br />
    <a href="https://github.com/angelxd84130/Activity-Analyzer-with-Wearable/blob/master/NewsClassification_Demo.pdf">View Demo</a>
    ·
    <a href="https://github.com/angelxd84130/Activity-Analyzer-with-Wearable/issues">Report Bug</a>
    ·
    <a href="https://github.com/angelxd84130/Activity-Analyzer-with-Wearable/issues">Request Feature</a>
  </p>
</p>



<!-- TABLE OF CONTENTS -->
<details open="open">
  <summary>Table of Contents</summary>
  <ol>
    <li>
      <a href="#about-the-project">About The Project</a>
      <ul>
        <li><a href="#data-mining">Feature Engineering</a></li>
        <li><a href="#data-preprocessing">Data Modeling</a></li>
        <li><a href="#data-modeling">Data Processing</a></li>
        <li><a href="#evaluation">Evaluation</a></li>
        <li><a href="#built-with">Built With</a></li>
      </ul>
    </li>
    <li>
      <a href="#getting-started">Getting Started</a>
      <ul>
        <li><a href="#prerequisites">Prerequisites</a></li>
      </ul>
    </li>
    <li><a href="#usage">Usage</a></li>
    <li><a href="#roadmap">Roadmap</a></li>
    <li><a href="#contact">Contact</a></li>
    <li><a href="#acknowledgements">Acknowledgements</a></li>
  </ol>
</details>



<!-- ABOUT THE PROJECT -->
## About The Project
  
Download data from the website of the Huawei Challenge and upload it to related database AWS Aurora to create an environment where big data is stored in the cloud service. 
Realize the concept of ELT(Extraction, Loading, Transformation), use SQL to load the required data from the cloud and use machine learning algorithms to classify a person's activities. 
The calculated machine model can be used on wearable devices or mobile phones to classify people's activities, and even plan people's travel speed and trajectory, which can be used in sports bracelets, maps, and anti-lost tools.

Here's why:
* Real-world data is very complicated and needs to be handled carefully
* The ELT method is more conducive to future big data processing
* The results of machine training can be applied to a wider range of content and products

### Feature Engineering  
In the dataset, it stores a record of a person carrying 4 sensors on his body's hand, hip, backpack, and torso and performing eight activities: still, 
walking, run, bike, bus, car, train, and subway. Indeed, each sensor records the person's continuous activity amplitude vectors (x,y,z). 
x represents the forward/backward shock amplitude of the body, y represents the left/right amplitude of the body, z Indicates the amplitude of body jumping/squatting movements.   

After observation, it is found that each sensor contains a variety of calculation methods for vibration amplitude. 
Among them, the three methods of Acceleration, Gyroscope, and Magnetyometer store the most complete and stable data. 
Therefore, the next experiment will focus on analyzing the data of these three methods.  

### Data Modeling  
The identification method of the eight activities is the most important theme of this experiment. 
After detailed discussions, we believe that using the amplitude of xyz during the activity is the best way to judge the activity the user is doing.   
The xyz amplitude generated by the user during each activity should be within a reference range, 
such as the amplitude of human walking in a straight(x) per second, the amplitude of riding a bicycle in a straight(x), to left and right(y), and to the up and down(z) shaking.  
  
Considering that the xyz amplitude of each activity is within a certain range, the decision tree is our priority algorithm that can help us calculate the scope of the activity and do classification effectively. 

### Data Processing  
Considering that the amount of data for each activity is different, we must unify the number of examples for each activity to maintain the balance of training, 
so we extracted 13,000 examples for each activity in the data set.  
  
First, the data extracted from the four parts of the body are combined according to time, 
and then the features needed for the next step of machine learning are extracted. Each part only refers to 9 features, 
a total of four body parts, so the training set will contain a total of 36 features and 104000 examples.  

### Data Training & Testing  
Randomly obtain 80% of the training data and 20% of the test data from the JSON file where the data is stored.  
The system trains and predicts the data every day to observe the correlation between the amount of data and the accuracy of the prediction.  

### Evaluation
Through the 7-day experiment, about 1300 articles can be obtained, and the distribution of 6 categories can be seen from the plot below.   
According to the results, the SVM model performs best when the amount of data is small, and its accuracy is 0.60.   
Followed by logistic regression, whcih is 0.55, and finally is Naive Bayes, which is 0.53.   
It can be found from the confusion matrix that among the six categories, sports articles have the highest recognizability, and its accuracy is as high as 96.6%.  
Followed by business and entertainment news, their discrimination is as high as 68.6% and 62.7%.   
The remaining three categories are due to insufficient data, it is difficult to distinguish the content of the article leading to a decrease in overall accuracy.

  

### Built With

* [NewsAPI](https://newsapi.org/docs/client-libraries/python)
* [scikit-learn](https://scikit-learn.org/stable/#)
* [matplotlib](https://matplotlib.org/)
* [nltk](https://www.nltk.org/)



<!-- GETTING STARTED -->
## Getting Started

Start with a python file with any machine learning model ex.NaiveBayes.py  
Download code and repalce the api_key to your own.

### Prerequisites


1. Get a free API Key at [NewsAPI](https://newsapi.org/docs/client-libraries/python)
2. Replace api_key to your own.
   ```sh
   newsapi = NewsApiClient(api_key=' your api key here ')
   ```
3. Run the python file
   
4. Check the plot to see predict results



<!-- USAGE EXAMPLES -->
## Usage

Use the plots to check result.  
### Data 
Articles: {'science': 61, 'general': 226, 'health': 133, 'business': 294, 'entertainment': 270, 'sports': 341}
![DataAccumulation][product-screenshot0]  
![Data][product-screenshot1]  
 
### Accuracy
- Naive Bayes: 0.539156
- SVM: 0.608433
- Logistic Regression: 0.551204  
![SupervisedLearning][product-screenshot2]  

### confused matrix 
![NaiveBayes][product-screenshot3]  

or copy an article content and apply it on the model to make predition.



<!-- ROADMAP -->
## Roadmap

See the [open issues](https://github.com/othneildrew/Best-README-Template/issues) for a list of proposed features (and known issues).


<!-- CONTACT -->
## Contact

Yu-Chieh Wang - [LinkedIn](https://www.linkedin.com/in/yu-chieh-wang/)  
email: angelxd84130@gmail.com


<!-- ACKNOWLEDGEMENTS -->
## Acknowledgements
* [Multi-Class Text Classification with Scikit-Learn](https://towardsdatascience.com/multi-class-text-classification-with-scikit-learn-12f1e60e0a9f)
* [Text Classification Using Naive Bayes: Theory & A Working Example](https://towardsdatascience.com/text-classification-using-naive-bayes-theory-a-working-example-2ef4b7eb7d5a)





<!-- MARKDOWN LINKS & IMAGES -->
<!-- https://www.markdownguide.org/basic-syntax/#reference-style-links -->
[contributors-shield]: https://img.shields.io/github/contributors/angelxd84130/Activity-Analyzer-with-Wearable.svg?style=for-the-badge
[contributors-url]: https://github.com/angelxd84130/Activity-Analyzer-with-Wearable/graphs/contributors
[forks-shield]: https://img.shields.io/github/forks/angelxd84130/Activity-Analyzer-with-Wearable.svg?style=for-the-badge
[forks-url]: https://github.com/angelxd84130/Activity-Analyzer-with-Wearable/network/members
[stars-shield]: https://img.shields.io/github/stars/angelxd84130/Activity-Analyzer-with-Wearable.svg?style=for-the-badge
[stars-url]: https://github.com/angelxd84130/Activity-Analyzer-with-Wearable/stargazers
[issues-shield]: https://img.shields.io/github/issues/angelxd84130/Activity-Analyzer-with-Wearable.svg?style=for-the-badge
[issues-url]: https://github.com/angelxd84130/Activity-Analyzer-with-Wearable/issues
[license-shield]: https://img.shields.io/github/license/angelxd84130/Activity-Analyzer-with-Wearable.svg?style=for-the-badge
[license-url]: https://github.com/angelxd84130/Activity-Analyzer-with-Wearable/blob/master/LICENSE.txt
[linkedin-shield]: https://img.shields.io/badge/-LinkedIn-black.svg?style=for-the-badge&logo=linkedin&colorB=555
[linkedin-url]: https://www.linkedin.com/in/yu-chieh-wang/
[product-screenshot0]: DataAccumulation.png
[product-screenshot1]: PieChart.png
[product-screenshot2]: SupervisedLearning.png
[product-screenshot3]: NaiveBayes.png
